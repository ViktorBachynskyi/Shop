(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(t,e,c){},,function(t,e,c){},function(t,e,c){},,function(t,e,c){},function(t,e,c){},function(t,e,c){},function(t,e,c){},function(t,e,c){"use strict";c.r(e);var n=c(1),r=c.n(n),a=c(11),o=c.n(a),i=(c(16),c(2)),s=c.n(i),u=c(5),d=c(4),l=(c(18),c(9)),p=c(6),j=c(3),h=(c(19),c(0)),b=function(t){var e=t.modalActive,c=t.setModalActive,n=t.children;return Object(h.jsx)("div",{className:e?"modal active":"modal",children:Object(h.jsxs)("div",{className:e?"modal__content active":"modal__content",children:[Object(h.jsx)("button",{type:"button",className:"modal__button-close",onClick:function(){return c(!1)},children:"X"}),n]})})},m=(c(21),function(t){var e=t.product,c=t.products,r=t.setProducts,a=Object(n.useState)(e),o=Object(d.a)(a,2),i=o[0],s=o[1],u=Object(n.useState)(!1),m=Object(d.a)(u,2),f=m[0],O=m[1];Object(n.useEffect)((function(){e&&s(e)}),[e]);var x=function(t){s(Object(j.a)(Object(j.a)({},i),{},Object(p.a)({},t.target.name,t.target.value)))},v=function(t){s(Object(j.a)(Object(j.a)({},i),{},{size:Object(j.a)(Object(j.a)({},i.size),{},Object(p.a)({},t.target.name,t.target.value))}))};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{type:"button",onClick:function(){return O(!0)},children:"Edit"}),Object(h.jsx)(b,{modalActive:f,setModalActive:O,children:Object(h.jsxs)("form",{className:"edit-product-form",children:[Object(h.jsx)("span",{className:"edit-product-form__input-title",children:"Product Name: "}),Object(h.jsx)("input",{value:i.name,name:"name",type:"text",placeholder:"",required:!0,autoComplete:"off",onChange:x}),Object(h.jsx)("span",{className:"edit-product-form__input-title",children:"ImageUrl: "}),Object(h.jsx)("input",{value:i.imageUrl,name:"imageUrl",type:"text",placeholder:"",required:!0,autoComplete:"off",onChange:x}),Object(h.jsx)("span",{className:"edit-product-form__input-title",children:"Count: "}),Object(h.jsx)("input",{value:i.count,name:"count",type:"text",placeholder:"",required:!0,autoComplete:"off",onChange:x}),Object(h.jsx)("span",{className:"edit-product-form__input-title",children:"Width: "}),Object(h.jsx)("input",{value:i.size.width,name:"width",type:"text",placeholder:"",required:!0,autoComplete:"off",onChange:v}),Object(h.jsx)("span",{className:"edit-product-form__input-title",children:"Height: "}),Object(h.jsx)("input",{value:i.size.height,name:"height",type:"text",placeholder:"",required:!0,autoComplete:"off",onChange:v}),Object(h.jsx)("span",{className:"edit-product-form__input-title",children:"Weight: "}),Object(h.jsx)("input",{value:i.weight,name:"weight",type:"text",placeholder:"",required:!0,autoComplete:"off",onChange:x}),Object(h.jsx)("button",{type:"button",className:"edit-product-form__button-add",onClick:function(){c.find((function(t){return t.id===i.id}))&&(c.splice(c.findIndex((function(t){return t.id===i.id})),1,i),r(Object(l.a)(c))),O(!1)},children:"Edit"})]})})]})}),f=(c(22),function(t){var e=t.product,c=t.removeProduct,r=t.products,a=t.setProducts,o=Object(n.useState)(!1),i=Object(d.a)(o,2),s=i[0],u=i[1],l=Object(n.useState)(!1),p=Object(d.a)(l,2),j=p[0],f=p[1];return Object(h.jsx)("div",{className:"product-card",children:Object(h.jsxs)("div",{className:"product-card__content",children:[Object(h.jsx)("div",{className:"product-card__img-container",children:Object(h.jsx)("img",{src:e.imageUrl,alt:"product img",className:"product-card__img"})}),Object(h.jsx)("p",{children:"Product: ".concat(e.name)}),s&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("p",{children:"Count: ".concat(e.count)}),Object(h.jsx)("p",{children:"Size: ".concat(e.size.width,"x").concat(e.size.height)}),Object(h.jsx)("p",{children:"Weight: ".concat(e.weight)})]}),Object(h.jsxs)("div",{className:"product-card__buttons-container",children:[Object(h.jsx)("button",{type:"button",onClick:function(){u(!s)},children:"Details"}),Object(h.jsx)(m,{product:e,products:r,setProducts:a}),Object(h.jsx)("button",{type:"button",onClick:function(){return f(!0)},children:"Delete"}),Object(h.jsx)(b,{modalActive:j,setModalActive:f,children:Object(h.jsxs)("div",{className:"delete-product",children:[Object(h.jsx)("span",{className:"delete-product__title",children:"You sure you want to delete this product?"}),Object(h.jsxs)("div",{className:"delete-product__buttons-container",children:[Object(h.jsx)("button",{type:"button",onClick:function(t){return c(t,e.id)},children:"Delete"}),Object(h.jsx)("button",{type:"button",onClick:function(){return f(!1)},children:"Cancel"})]})]})})]})]})})}),O=(c(23),function(t){var e=t.productsFromServer,c=t.removeProduct,n=t.products,r=t.setProducts;return Object(h.jsx)("ul",{children:e.map((function(t){return Object(h.jsx)("li",{children:Object(h.jsx)(f,{product:t,removeProduct:c,products:n,setProducts:r})},t.id)}))})}),x="https://my-json-server.typicode.com/ViktorBachynskyi/json-server/products";function v(){return g.apply(this,arguments)}function g(){return(g=Object(u.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(x);case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t){return y.apply(this,arguments)}function y(){return(y=Object(u.a)(s.a.mark((function t(e){var c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(x,{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}});case 2:return c=t.sent,t.abrupt("return",c.json());case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(t){return N.apply(this,arguments)}function N(){return(N=Object(u.a)(s.a.mark((function t(e){var c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(x,"/").concat(e),{method:"DELETE"});case 2:return c=t.sent,t.abrupt("return",c.json());case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}c(24);var w=function(t){var e=t.products,c=t.setProducts,r=Object(n.useState)({id:0,imageUrl:"",name:"",count:0,size:{width:"",height:""},weight:"",comments:[]}),a=Object(d.a)(r,2),o=a[0],i=a[1],m=Object(n.useState)(!1),f=Object(d.a)(m,2),O=f[0],x=f[1],v=function(t){i(Object(j.a)(Object(j.a)({},o),{},Object(p.a)({id:Math.random()},t.target.name,t.target.value)))},g=function(t){i(Object(j.a)(Object(j.a)({},o),{},{id:Math.random(),size:Object(j.a)(Object(j.a)({},o.size),{},Object(p.a)({},t.target.name,t.target.value))}))},y=function(){var t=Object(u.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,_(o);case 3:c([].concat(Object(l.a)(e),[o])),i({id:0,imageUrl:"",name:"",count:0,size:{width:"",height:""},weight:"",comments:[]}),x(!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{type:"button",onClick:function(){return x(!0)},children:"Add product"}),Object(h.jsx)(b,{modalActive:O,setModalActive:x,children:Object(h.jsxs)("form",{className:"add-product-form",onSubmit:y,children:[Object(h.jsx)("span",{className:"add-product-form__input-title",children:"Product Name: "}),Object(h.jsx)("input",{value:o.name,name:"name",type:"text",placeholder:"",required:!0,autoComplete:"off",onChange:v}),Object(h.jsx)("span",{className:"add-product-form__input-title",children:"ImageUrl: "}),Object(h.jsx)("input",{value:o.imageUrl,name:"imageUrl",type:"text",placeholder:"",required:!0,autoComplete:"off",onChange:v}),Object(h.jsx)("span",{className:"add-product-form__input-title",children:"Count: "}),Object(h.jsx)("input",{value:o.count,name:"count",type:"text",placeholder:"",required:!0,autoComplete:"off",onChange:v}),Object(h.jsx)("span",{className:"add-product-form__input-title",children:"Width: "}),Object(h.jsx)("input",{value:o.size.width,name:"width",type:"text",placeholder:"",required:!0,autoComplete:"off",onChange:g}),Object(h.jsx)("span",{className:"add-product-form__input-title",children:"Height: "}),Object(h.jsx)("input",{value:o.size.height,name:"height",type:"text",placeholder:"",required:!0,autoComplete:"off",onChange:g}),Object(h.jsx)("span",{className:"add-product-form__input-title",children:"Weight: "}),Object(h.jsx)("input",{value:o.weight,name:"weight",type:"text",placeholder:"",required:!0,autoComplete:"off",onChange:v}),Object(h.jsx)("button",{type:"submit",className:"add-product-form__button-add",children:"Add"})]})})]})},k=function(){var t=Object(n.useState)([]),e=Object(d.a)(t,2),c=e[0],r=e[1],a=Object(n.useState)(""),o=Object(d.a)(a,2),i=o[0],l=o[1];Object(n.useEffect)((function(){(function(){var t=Object(u.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v();case 2:e=t.sent,r(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var p=function(){var t=Object(u.a)(s.a.mark((function t(e,n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(n);case 2:r(c.filter((function(t){return t.id!==n})));case 3:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"shop",children:[Object(h.jsx)("h1",{className:"shop__title",children:"Shop"}),Object(h.jsx)("h2",{children:"List of products"}),Object(h.jsxs)("div",{className:"shop__control-panel",children:[Object(h.jsxs)("form",{children:["Sort:"," ",Object(h.jsxs)("select",{value:i,onChange:function(t){l(t.target.value)},children:[Object(h.jsx)("option",{value:"sortAlphabetically",children:"Alphabetically"}),Object(h.jsx)("option",{value:"sortByCount",children:"By count"})]})]}),Object(h.jsx)(w,{products:c,setProducts:r})]}),Object(h.jsx)(O,{productsFromServer:function(){switch(i){case"sortByCount":return c.sort((function(t,e){return e.count-t.count}));default:return c.sort((function(t,e){return t.name.localeCompare(e.name)}))}}(),removeProduct:p,products:c,setProducts:r})]})};o.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(k,{})}),document.getElementById("root"))}],[[25,1,2]]]);
//# sourceMappingURL=main.0259dc7a.chunk.js.map